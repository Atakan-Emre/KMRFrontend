(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,s,r)=>{"use strict";r.d(s,{$:()=>c});var i=r(5155),t=r(2115),l=r(9708),a=r(2085),n=r(9434);let d=(0,a.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",clinical_normal:"bg-clinical-normal text-white hover:bg-clinical-normal/90",clinical_attention:"bg-clinical-attention text-white hover:bg-clinical-attention/90",clinical_critical:"bg-clinical-critical text-white hover:bg-clinical-critical/90",clinical_very_critical:"bg-clinical-very_critical text-white hover:bg-clinical-very_critical/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=t.forwardRef((e,s)=>{let{className:r,variant:t,size:a,asChild:c=!1,...o}=e,m=c?l.DX:"button";return(0,i.jsx)(m,{className:(0,n.cn)(d({variant:t,size:a,className:r})),ref:s,...o})});c.displayName="Button"},2370:(e,s,r)=>{"use strict";r.d(s,{Gf:()=>x,k5:()=>o,e6:()=>m,Ev:()=>c});var i=r(2960);async function t(e){let s=await fetch(e,{cache:"no-store"});if(!s.ok)throw Error("Veri y\xfcklenemedi: ".concat(e," (status ").concat(s.status,")"));return s.json()}async function l(){return t("/data/reference_band.json")}async function a(){return t("/data/data_summary.json")}async function n(){return{patients:((await t("/data/patient_features.json")).patients||[]).map(e=>{var s,r,i;return{patient_code:e.patient_code,n_measurements:e.n_measurements,latest_chr:e.latest_chr,latest_date_code:e.latest_date_code,summary:{total_anomalies:null!=(i=null==(s=e.summary)?void 0:s.total_anomalies)?i:0,trend_direction:null==(r=e.summary)?void 0:r.trend_direction,...e.summary},...e}})}}let d={Normal:"#22c55e",Dikkat:"#f59e0b",Kritik:"#f97316","\xc7ok Kritik":"#ef4444"};function c(e){return(0,i.I)({queryKey:["patient-detail",e],queryFn:async()=>{if(!e)return null;let s=await fetch("/data/patients/".concat(e,".json"));if(!s.ok)throw Error("Hasta verisi y\xfcklenemedi: ".concat(e));return s.json()},enabled:!!e,staleTime:12e4})}function o(){return(0,i.I)({queryKey:["channelOverview"],queryFn:async()=>{let e=await fetch("/data/channel_overview.json");if(!e.ok)throw Error("Kanal genel bakış y\xfcklenemedi");return e.json()},staleTime:3e5})}function m(){var e,s,r,t;let c=(0,i.I)({queryKey:["patients"],queryFn:n,staleTime:12e4,gcTime:6e5}),o=(0,i.I)({queryKey:["summary"],queryFn:a,staleTime:3e5}),m=(0,i.I)({queryKey:["reference-band"],queryFn:l,staleTime:3e5,gcTime:18e5}),x=(null==(e=c.data)?void 0:e.patients.map(e=>{let s=function(e){var s,r;let i,t=Number.isFinite(e.latest_chr)?e.latest_chr:0;return{level:i=t<.5?"Normal":t<2?"Dikkat":t<5?"Kritik":"\xc7ok Kritik",score:Math.max(0,Math.min(100,Math.round(Math.min(70,t/5*70)+Math.min(40,6*(null!=(r=null==(s=e.summary)?void 0:s.total_anomalies)?r:0))))),color:d[i]}}(e);return{...e,risk_level:s.level,risk_score:s.score,risk_color:s.color,last_update:new Date().toISOString().split("T")[0]}}))||[],h={totalPatients:(null==(s=o.data)?void 0:s.all_patients.n_patients)||0,activeAlerts:x.filter(e=>["Kritik","\xc7ok Kritik"].includes(e.risk_level)).length,averageRisk:x.length>0?Math.round(x.reduce((e,s)=>e+s.risk_score,0)/x.length):0,lastAnalysis:new Date().toISOString(),patientsWithAnomalies:(null==(r=o.data)?void 0:r.all_patients.patients_with_anomalies)||0};return{patients:x,kpis:h,summary:o.data,referenceBand:(null==(t=m.data)?void 0:t.phase_bands)||[],isLoading:c.isLoading||o.isLoading,error:c.error||o.error}}let x={Normal:"#22c55e",Dikkat:"#f59e0b",Kritik:"#f97316","\xc7ok Kritik":"#ef4444"}},3792:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var i=r(5155),t=r(285),l=r(6695),a=r(7313),n=r(2370),d=r(5028),c=r(6874),o=r.n(c),m=r(2115);let x=(0,d.default)(()=>Promise.all([r.e(840),r.e(722)]).then(r.bind(r,1514)),{loadableGenerated:{webpack:()=>[1514]},ssr:!1});function h(){let{patients:e,kpis:s,isLoading:r,error:d}=(0,n.e6)(),[c,h]=(0,m.useState)(null),[u,j]=(0,m.useState)(!1),p=e.reduce((e,s)=>(e[s.risk_level]=(e[s.risk_level]||0)+1,e),{Normal:0,Dikkat:0,Kritik:0,"\xc7ok Kritik":0}),g=c?e.filter(e=>e.risk_level===c):e;return d?(0,i.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-red-500 text-xl mb-2",children:"⚠️"}),(0,i.jsx)("p",{className:"text-lg font-medium",children:"Veri y\xfckleme hatası"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:d instanceof Error?d.message:"Bilinmeyen hata"}),(0,i.jsx)(t.$,{className:"mt-4",onClick:()=>window.location.reload(),variant:"outline",children:"Tekrar Dene"})]})}):r?(0,i.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,i.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Veriler y\xfckleniyor..."})]})}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Kimerizm takip sistemi genel bakış ve KPI'lar"})]}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)(o(),{href:"/model-evaluation",children:(0,i.jsx)(t.$,{variant:"outline",className:"flex items-center gap-2",children:"\uD83E\uDD16 Model Değerlendirmesi"})}),(0,i.jsx)(o(),{href:"/patients",children:(0,i.jsx)(t.$,{variant:"outline",className:"flex items-center gap-2",children:"\uD83D\uDC65 T\xfcm Hastalar"})})]})]}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(l.ZB,{className:"text-sm font-medium",children:"Toplam Hasta"}),(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:[(0,i.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,i.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,i.jsx)("path",{d:"m22 21-3-3 3-3"})]})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"text-2xl font-bold",children:s.totalPatients}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Aktif takipte"})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(l.ZB,{className:"text-sm font-medium",children:"Aktif Uyarı"}),(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:[(0,i.jsx)("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),(0,i.jsx)("path",{d:"M12 9v4"}),(0,i.jsx)("path",{d:"m12 17 .01 0"})]})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-clinical-critical",children:s.activeAlerts}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kritik/\xc7ok Kritik"})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(l.ZB,{className:"text-sm font-medium",children:"Ortalama Risk"}),(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:[(0,i.jsx)("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),(0,i.jsx)("path",{d:"M3 3v5h5"})]})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"text-2xl font-bold",children:s.averageRisk}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Risk skoru (0-100)"})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(l.ZB,{className:"text-sm font-medium",children:"Anomali Tespiti"}),(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("polyline",{points:"12,6 12,12 16,14"})]})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"text-2xl font-bold",children:s.patientsWithAnomalies}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Anomalili hasta"})]})]})]}),(0,i.jsxs)(a.tU,{defaultValue:"overview",className:"space-y-4",children:[(0,i.jsxs)(a.j7,{children:[(0,i.jsx)(a.Xi,{value:"overview",children:"Genel Bakış"}),(0,i.jsx)(a.Xi,{value:"patients",children:"Hasta Listesi"}),(0,i.jsx)(a.Xi,{value:"analytics",children:"Analitik"}),(0,i.jsx)(a.Xi,{value:"models",children:"AI Modelleri"})]}),(0,i.jsxs)(a.av,{value:"overview",className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{className:"w-full",children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{className:"text-xl",children:"Risk Dağılımı - İnteraktif Analiz"}),(0,i.jsx)(l.BT,{children:"Risk seviyelerine tıklayarak hasta detaylarını g\xf6r\xfcnt\xfcleyin • Pasta grafiği ve butonlar ile etkileşime ge\xe7in"})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsx)("div",{className:"lg:col-span-1",children:(0,i.jsx)("div",{className:"h-96 w-full",children:(0,i.jsx)(x,{data:[{values:Object.values(p),labels:Object.keys(p),type:"pie",marker:{colors:Object.keys(p).map(e=>n.Gf[e])},textinfo:"label+percent",textposition:"auto",hoverinfo:"label+value+percent",customdata:Object.keys(p)}],layout:{showlegend:!1,margin:{t:30,b:30,l:30,r:30},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{text:c?"".concat(c," Hastalar"):"T\xfcm Risk Seviyeleri",font:{size:14},y:.95}},config:{responsive:!0,displayModeBar:!1,doubleClick:!1},className:"w-full h-full",onUpdate:()=>{}})})}),(0,i.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium",children:c?"".concat(c," Seviyesi"):"T\xfcm Hastalar"}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:[g.length," hasta •",c?"":"Kategoriye tıklayın"]})]}),c&&(0,i.jsx)(t.$,{variant:"outline",size:"sm",onClick:()=>h(null),children:"T\xfcm\xfcn\xfc G\xf6ster"})]}),(0,i.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:Object.entries(p).map(s=>{let[r,t]=s;return(0,i.jsxs)("button",{onClick:()=>h(c===r?null:r),className:"p-3 rounded-lg border text-left transition-all ".concat(c===r?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,i.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n.Gf[r]}}),(0,i.jsx)("span",{className:"font-medium text-sm",children:r})]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground mb-1",children:["Normal"===r&&"< 0.5% kimerizm","Dikkat"===r&&"0.5-2.0% kimerizm","Kritik"===r&&"2.0-5.0% kimerizm","\xc7ok Kritik"===r&&"> 5.0% kimerizm"]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("span",{className:"font-bold",children:[t," hasta"]}),(0,i.jsxs)("span",{className:"text-xs",children:["%",(t/e.length*100).toFixed(1)]})]})]},r)})}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h4",{className:"font-medium",children:c?"".concat(c," Seviyesindeki Hastalar"):"T\xfcm Hastalar"}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[g.length," hasta"]})]}),(0,i.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2 border rounded-lg p-3 bg-gray-50",children:g.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.risk_color}}),(0,i.jsxs)("span",{className:"text-sm font-medium",children:["Hasta ",e.patient_code]})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("div",{className:"text-xs font-medium",children:[e.latest_chr.toFixed(3),"%"]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Risk: ",e.risk_score.toFixed(1)]})]}),(0,i.jsx)(o(),{href:"/patients/".concat(e.patient_code),children:(0,i.jsx)(t.$,{variant:"outline",size:"sm",className:"text-xs",children:"→"})})]},e.patient_code))})]}),c&&(0,i.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,i.jsxs)("h5",{className:"text-base font-medium text-blue-800 mb-3",children:["\uD83D\uDCCA ",c," Kategori Detaylı Analizi"]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Hasta Sayısı:"})," ",g.length]}),(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Oran:"})," %",(g.length/e.length*100).toFixed(1)]}),(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Ort. Kimerizm:"})," ",(g.reduce((e,s)=>e+s.latest_chr,0)/g.length).toFixed(3),"%"]}),(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Ort. Risk:"})," ",(g.reduce((e,s)=>e+s.risk_score,0)/g.length).toFixed(1)]}),(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Toplam Anomali:"})," ",g.reduce((e,s)=>e+s.summary.total_anomalies,0)]}),(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Anomalili Hasta:"})," ",g.filter(e=>e.summary.total_anomalies>0).length]})]})]})]})]})})]}),(0,i.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Son G\xfcncellemeler"}),(0,i.jsx)(l.BT,{children:"En son yapılan analizler ve uyarılar"})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 flex-shrink-0"}),(0,i.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,i.jsx)("p",{className:"text-sm font-medium leading-none",children:"Referans zarfı g\xfcncellendi"}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s.totalPatients," hasta, 4 faz analizi tamamlandı"]})]}),(0,i.jsx)("div",{className:"ml-auto font-medium",children:"Şimdi"})]}),e.filter(e=>["Kritik","\xc7ok Kritik"].includes(e.risk_level)).slice(0,2).map(e=>(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500 flex-shrink-0"}),(0,i.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,i.jsxs)("p",{className:"text-sm font-medium leading-none",children:["Hasta ",e.patient_code,": ",e.risk_level," seviye"]}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Kimerizm: ",e.latest_chr.toFixed(3),"% • Anomali: ",e.summary.total_anomalies," tespit"]})]}),(0,i.jsx)("div",{className:"ml-auto font-medium",children:"Aktif"})]},e.patient_code)),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 flex-shrink-0"}),(0,i.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,i.jsx)("p",{className:"text-sm font-medium leading-none",children:"Anomali tespit sistemi aktif"}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s.patientsWithAnomalies," hasta i\xe7in anomali bayrakları"]})]}),(0,i.jsx)("div",{className:"ml-auto font-medium",children:"S\xfcrekli"})]})]})})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Sistem Durumu"}),(0,i.jsx)(l.BT,{children:"AI modeli ve veri işleme durumu"})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 flex-shrink-0"}),(0,i.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,i.jsx)("p",{className:"text-sm font-medium leading-none",children:"LSTM + VAE Modeli Aktif"}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.reduce((e,s)=>e+s.summary.total_anomalies,0)," anomali tespit edildi"]})]}),(0,i.jsx)("div",{className:"ml-auto font-medium text-green-600",children:"\xc7alışıyor"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 flex-shrink-0"}),(0,i.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,i.jsx)("p",{className:"text-sm font-medium leading-none",children:"Veri Kalitesi"}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.length," hasta • ",e.reduce((e,s)=>e+s.n_measurements,0)," \xf6l\xe7\xfcm"]})]}),(0,i.jsx)("div",{className:"ml-auto font-medium text-blue-600",children:"%98.5"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full bg-purple-500 flex-shrink-0"}),(0,i.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,i.jsx)("p",{className:"text-sm font-medium leading-none",children:"Risk Hesaplama"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ensemble modeli aktif - Son g\xfcncelleme: Şimdi"})]}),(0,i.jsx)("div",{className:"ml-auto font-medium text-purple-600",children:"G\xfcncel"})]})]})})]})]})]}),(0,i.jsx)(a.av,{value:"patients",className:"space-y-4",children:(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Hasta Listesi"}),(0,i.jsx)(l.BT,{children:"T\xfcm hastaların g\xfcncel risk durumu"})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(u?e:e.slice(0,10)).map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"font-medium",children:["Hasta ",e.patient_code]}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.n_measurements," \xf6l\xe7\xfcm • Son: ",e.last_update]}),(0,i.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Kimerizm: ",e.latest_chr.toFixed(3),"% • Anomali: ",e.summary.total_anomalies]})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("p",{className:"font-medium",children:["Risk: ",e.risk_score.toFixed(1)]}),(0,i.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full text-white",style:{backgroundColor:e.risk_color},children:e.risk_level})]}),(0,i.jsx)(o(),{href:"/patients/".concat(e.patient_code),children:(0,i.jsx)(t.$,{variant:"outline",size:"sm",children:"Detay →"})})]},e.patient_code)),!u&&e.length>10&&(0,i.jsx)("div",{className:"text-center pt-4",children:(0,i.jsxs)(t.$,{variant:"outline",onClick:()=>j(!0),children:["T\xfcm\xfcn\xfc G\xf6r (",e.length," hasta)"]})}),u&&(0,i.jsx)("div",{className:"text-center pt-4",children:(0,i.jsx)(t.$,{variant:"outline",onClick:()=>j(!1),children:"Daha Az G\xf6ster (İlk 10)"})})]})})]})}),(0,i.jsxs)(a.av,{value:"analytics",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Kimerizm Seviye Dağılımı"}),(0,i.jsxs)(l.BT,{children:[e.length," hastanın son \xf6l\xe7\xfcm kimerizm değerlerinin histogram dağılımı"]})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"h-80",children:(0,i.jsx)(x,{data:[{x:e.map(e=>e.latest_chr),type:"histogram",nbinsx:12,marker:{color:"#3b82f6",opacity:.8,line:{color:"#1e40af",width:2}},name:"Hasta Dağılımı",hovertemplate:"<b>Kimerizm Aralığı</b><br>Değer: %{x:.3f}%<br>Bu aralıktaki hasta sayısı: %{y}<br><extra></extra>"}],layout:{title:{text:"Toplam ".concat(e.length," Hasta - Kimerizm Değer Dağılımı"),font:{size:14},y:.95},xaxis:{title:{text:"Son \xd6l\xe7\xfcm Kimerizm Değeri (%)<br><i>D\xfcş\xfck ← → Y\xfcksek</i>",font:{size:12}},type:"linear",showgrid:!0,gridcolor:"rgba(128,128,128,0.3)",tickformat:".2f",tickmode:"array",tickvals:[0,.5,1,2,5,10,15,20,25],ticktext:["0%","0.5%","1%","2%","5%","10%","15%","20%","25%"],range:[0,1.1*Math.max(...e.map(e=>e.latest_chr))]},yaxis:{title:{text:"Hasta Sayısı<br><i>Her \xe7ubuk aralıktaki hasta sayısını g\xf6sterir</i>",font:{size:12}},showgrid:!0,gridcolor:"rgba(128,128,128,0.3)",dtick:1,range:[0,"auto"]},margin:{t:60,b:80,l:100,r:40},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(248,250,252,0.5)",showlegend:!1,shapes:[{type:"line",x0:.5,x1:.5,y0:0,y1:1,yref:"paper",line:{color:"#f59e0b",width:3,dash:"dot"}},{type:"line",x0:2,x1:2,y0:0,y1:1,yref:"paper",line:{color:"#ef4444",width:3,dash:"dot"}},{type:"line",x0:5,x1:5,y0:0,y1:1,yref:"paper",line:{color:"#dc2626",width:3,dash:"dot"}}],annotations:[{x:.5,y:.9,yref:"paper",text:"<b>Normal/Dikkat</b><br>0.5% Eşiği",showarrow:!0,arrowcolor:"#f59e0b",font:{size:10,color:"#f59e0b"},bgcolor:"rgba(245, 158, 11, 0.1)",bordercolor:"#f59e0b",borderwidth:1},{x:2,y:.8,yref:"paper",text:"<b>Dikkat/Kritik</b><br>2.0% Eşiği",showarrow:!0,arrowcolor:"#ef4444",font:{size:10,color:"#ef4444"},bgcolor:"rgba(239, 68, 68, 0.1)",bordercolor:"#ef4444",borderwidth:1},{x:5,y:.7,yref:"paper",text:"<b>Kritik/\xc7ok Kritik</b><br>5.0% Eşiği",showarrow:!0,arrowcolor:"#dc2626",font:{size:10,color:"#dc2626"},bgcolor:"rgba(220, 38, 38, 0.1)",bordercolor:"#dc2626",borderwidth:1}]},config:{responsive:!0,displayModeBar:!0,modeBarButtonsToRemove:["pan2d","lasso2d","select2d"],displaylogo:!1},className:"w-full h-full"})}),(0,i.jsxs)("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg",children:[(0,i.jsx)("h4",{className:"font-medium text-sm mb-2",children:"\uD83D\uDCCA Veri Analizi"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Değer Aralıkları:"})}),(0,i.jsxs)("p",{children:["• En d\xfcş\xfck: ",Math.min(...e.map(e=>e.latest_chr)).toFixed(3),"%"]}),(0,i.jsxs)("p",{children:["• En y\xfcksek: ",Math.max(...e.map(e=>e.latest_chr)).toFixed(3),"%"]}),(0,i.jsxs)("p",{children:["• Medyan: ",[...e.map(e=>e.latest_chr)].sort((e,s)=>e-s)[Math.floor(e.length/2)].toFixed(3),"%"]}),(0,i.jsxs)("p",{children:["• Ortalama: ",(e.reduce((e,s)=>e+s.latest_chr,0)/e.length).toFixed(3),"%"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Risk Kategorileri:"})}),(0,i.jsxs)("p",{children:["• Normal (<0.5%): ",e.filter(e=>e.latest_chr<.5).length," hasta"]}),(0,i.jsxs)("p",{children:["• Dikkat (0.5-2%): ",e.filter(e=>e.latest_chr>=.5&&e.latest_chr<2).length," hasta"]}),(0,i.jsxs)("p",{children:["• Kritik (2-5%): ",e.filter(e=>e.latest_chr>=2&&e.latest_chr<5).length," hasta"]}),(0,i.jsxs)("p",{children:["• \xc7ok Kritik (>5%): ",e.filter(e=>e.latest_chr>=5).length," hasta"]})]})]}),(0,i.jsx)("div",{className:"mt-2 pt-2 border-t text-xs text-muted-foreground",children:(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Grafik A\xe7ıklaması:"})," X ekseni = Kimerizm değeri (%), Y ekseni = O aralıktaki hasta sayısı. Her \xe7ubuk bir kimerizm aralığını temsil eder."]})})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Kimerizm-Risk İlişkisi"}),(0,i.jsx)(l.BT,{children:"Son kimerizm değeri ile AI risk skoru arasındaki korelasyon"})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"h-64",children:(0,i.jsx)(x,{data:[{x:e.map(e=>e.latest_chr),y:e.map(e=>e.risk_score),mode:"markers",type:"scatter",marker:{size:e.map(e=>Math.max(8,6+2*e.summary.total_anomalies)),color:e.map(e=>e.risk_color),opacity:.8,line:{color:"#ffffff",width:1.5},symbol:e.map(e=>"Normal"===e.risk_level?"circle":"Dikkat"===e.risk_level?"square":"Kritik"===e.risk_level?"diamond":"triangle-up")},text:e.map(e=>"".concat(e.patient_code," (").concat(e.risk_level,")")),customdata:e.map(e=>e.summary.total_anomalies),hovertemplate:"<b>%{text}</b><br>Kimerizm: %{x:.3f}%<br>Risk Skoru: %{y:.1f}/100<br>Anomali Sayısı: %{customdata}<br>\xd6l\xe7\xfcm Sayısı: "+e.map(e=>e.n_measurements).join("<br>\xd6l\xe7\xfcm Sayısı: ")+"<extra></extra>"}],layout:{xaxis:{title:"Son Kimerizm Değeri (%) - Log \xd6l\xe7ek",type:"log",showgrid:!0,gridcolor:"rgba(128,128,128,0.2)",tickformat:".2f",range:[Math.log10(.01),Math.log10(1.2*Math.max(...e.map(e=>e.latest_chr)))]},yaxis:{title:"AI Risk Skoru (0-100)",showgrid:!0,gridcolor:"rgba(128,128,128,0.2)",range:[0,100],dtick:20},margin:{t:30,b:60,l:60,r:30},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",showlegend:!1,shapes:[{type:"rect",x0:.01,x1:100,y0:0,y1:40,fillcolor:"rgba(34, 197, 94, 0.1)",line:{width:0}},{type:"rect",x0:.01,x1:100,y0:40,y1:70,fillcolor:"rgba(245, 158, 11, 0.1)",line:{width:0}},{type:"rect",x0:.01,x1:100,y0:70,y1:85,fillcolor:"rgba(239, 68, 68, 0.1)",line:{width:0}},{type:"rect",x0:.01,x1:100,y0:85,y1:100,fillcolor:"rgba(220, 38, 38, 0.2)",line:{width:0}}],annotations:[{x:.02,y:20,text:"Normal<br>(0-40)",showarrow:!1,font:{size:9,color:"#059669"}},{x:.02,y:55,text:"Dikkat<br>(40-70)",showarrow:!1,font:{size:9,color:"#d97706"}},{x:.02,y:77.5,text:"Kritik<br>(70-85)",showarrow:!1,font:{size:9,color:"#dc2626"}},{x:.02,y:92.5,text:"\xc7ok Kritik<br>(85-100)",showarrow:!1,font:{size:9,color:"#991b1b"}}]},config:{responsive:!0,displayModeBar:!1},className:"w-full h-full"})}),(0,i.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:[(0,i.jsx)("p",{children:"\uD83D\uDD17 Korelasyon: Y\xfcksek kimerizm → Y\xfcksek risk skoru beklentisi"}),(0,i.jsx)("p",{children:"\uD83D\uDCCF Marker boyutu: Anomali sayısını g\xf6sterir | Şekil: Risk seviyesini belirtir"})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"AI Anomali Tespiti"}),(0,i.jsx)(l.BT,{children:"Makine \xf6ğrenmesi ile tespit edilen anomali sayısı ve risk ilişkisi"})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"h-64",children:(0,i.jsx)(x,{data:[{x:e.map(e=>e.summary.total_anomalies),y:e.map(e=>e.risk_score),mode:"markers",type:"scatter",marker:{size:e.map(e=>Math.max(10,8+.5*e.n_measurements)),color:e.map(e=>e.risk_color),opacity:.8,symbol:e.map(e=>"Normal"===e.risk_level?"circle":"Dikkat"===e.risk_level?"square":"Kritik"===e.risk_level?"diamond":"triangle-up"),line:{color:"#ffffff",width:1.5}},text:e.map(e=>"".concat(e.patient_code," (").concat(e.risk_level,")")),customdata:e.map(e=>e.n_measurements),hovertemplate:"<b>%{text}</b><br>AI Anomali Sayısı: %{x}<br>Risk Skoru: %{y:.1f}/100<br>Toplam \xd6l\xe7\xfcm: %{customdata}<br>Son Kimerizm: "+e.map(e=>e.latest_chr.toFixed(3)).join("<br>Son Kimerizm: ")+"%<extra></extra>"}],layout:{xaxis:{title:"AI Tarafından Tespit Edilen Anomali Sayısı",showgrid:!0,gridcolor:"rgba(128,128,128,0.2)",dtick:1,range:[-.5,Math.max(...e.map(e=>e.summary.total_anomalies))+.5]},yaxis:{title:"Hesaplanan Risk Skoru (0-100)",showgrid:!0,gridcolor:"rgba(128,128,128,0.2)",range:[0,100],dtick:20},margin:{t:30,b:60,l:80,r:30},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",showlegend:!1,shapes:[{type:"rect",x0:-.5,x1:1,y0:0,y1:100,fillcolor:"rgba(34, 197, 94, 0.05)",line:{width:0}},{type:"rect",x0:1,x1:3,y0:0,y1:100,fillcolor:"rgba(245, 158, 11, 0.05)",line:{width:0}},{type:"rect",x0:3,x1:10,y0:0,y1:100,fillcolor:"rgba(239, 68, 68, 0.05)",line:{width:0}}],annotations:[{x:.2,y:95,text:"Az Anomali<br>(0-1)",showarrow:!1,font:{size:9,color:"#059669"}},{x:2,y:95,text:"Orta Anomali<br>(1-3)",showarrow:!1,font:{size:9,color:"#d97706"}},{x:5,y:95,text:"Y\xfcksek Anomali<br>(3+)",showarrow:!1,font:{size:9,color:"#dc2626"}}]},config:{responsive:!0,displayModeBar:!1},className:"w-full h-full"})}),(0,i.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:[(0,i.jsx)("p",{children:"\uD83E\uDD16 AI Modeli: LSTM + VAE hibrit anomali tespiti sistemi"}),(0,i.jsx)("p",{children:"\uD83D\uDCCF Marker boyutu: Toplam \xf6l\xe7\xfcm sayısını g\xf6sterir | Şekil: Risk kategorisini belirtir"}),(0,i.jsxs)("p",{children:["\uD83D\uDCCA Toplam ",e.reduce((e,s)=>e+s.summary.total_anomalies,0)," anomali tespit edildi"]})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Risk Kategorisi Dağılımı"}),(0,i.jsx)(l.BT,{children:"Mevcut hasta pop\xfclasyonunun AI risk kategorilerine g\xf6re dağılımı"})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"h-64",children:(0,i.jsx)(x,{data:[{x:Object.keys(p),y:Object.values(p),type:"bar",marker:{color:Object.keys(p).map(e=>n.Gf[e]),opacity:.8,line:{color:"#ffffff",width:2}},text:Object.values(p).map(s=>"".concat(s," hasta<br>%").concat((s/e.length*100).toFixed(1))),textposition:"auto",textfont:{color:"#ffffff",size:11,family:"Arial, sans-serif"},hovertemplate:"<b>%{x} Risk Seviyesi</b><br>Hasta Sayısı: %{y}<br>Toplam Oranı: %{text}<extra></extra>"}],layout:{xaxis:{title:"AI Risk Kategorileri",showgrid:!1,tickfont:{size:12}},yaxis:{title:"Hasta Sayısı",showgrid:!0,gridcolor:"rgba(128,128,128,0.2)",dtick:1,range:[0,Math.max(...Object.values(p))+1]},margin:{t:30,b:60,l:60,r:30},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",showlegend:!1,bargap:.3},config:{responsive:!0,displayModeBar:!1},className:"w-full h-full"})}),(0,i.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("p",{children:["\uD83D\uDCCA Toplam hasta sayısı: ",e.length]}),(0,i.jsxs)("p",{children:["⚠️ Takip gereken: ",p.Dikkat+p.Kritik+p["\xc7ok Kritik"]," hasta"]}),(0,i.jsxs)("p",{children:["✅ Normal durumda: ",p.Normal," hasta (%",(p.Normal/e.length*100).toFixed(1),")"]}),(0,i.jsxs)("p",{children:["\uD83D\uDEA8 Acil m\xfcdahale: ",p["\xc7ok Kritik"]," hasta (%",(p["\xc7ok Kritik"]/e.length*100).toFixed(1),")"]})]})})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"\uD83D\uDCCA Klinik İstatistikler ve \xd6ng\xf6r\xfcler"}),(0,i.jsx)(l.BT,{children:"Mevcut hasta verilerine dayalı kimerizm analizi \xf6zeti"})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,i.jsxs)("div",{className:"p-4 rounded-lg bg-green-50 border border-green-200",children:[(0,i.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"✅ Başarılı Nakiller"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["%",(p.Normal/e.length*100).toFixed(1)]}),(0,i.jsxs)("p",{className:"text-sm text-green-700",children:[p.Normal," hasta normal seviyede (< 0.5% kimerizm)"]})]}),(0,i.jsxs)("div",{className:"p-4 rounded-lg bg-yellow-50 border border-yellow-200",children:[(0,i.jsx)("h4",{className:"font-medium text-yellow-800 mb-2",children:"⚠️ Takip Gereken"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-yellow-600",children:["%",(p.Dikkat/e.length*100).toFixed(1)]}),(0,i.jsxs)("p",{className:"text-sm text-yellow-700",children:[p.Dikkat," hasta dikkat seviyesinde (0.5-2.0% kimerizm)"]})]}),(0,i.jsxs)("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200",children:[(0,i.jsx)("h4",{className:"font-medium text-red-800 mb-2",children:"\uD83D\uDEA8 Kritik Hastalar"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:["%",((p.Kritik+p["\xc7ok Kritik"])/e.length*100).toFixed(1)]}),(0,i.jsxs)("p",{className:"text-sm text-red-700",children:[p.Kritik+p["\xc7ok Kritik"]," hasta kritik seviyede (> 2.0% kimerizm)"]})]})]}),(0,i.jsxs)("div",{className:"mt-6 p-4 rounded-lg bg-blue-50 border border-blue-200",children:[(0,i.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\uD83D\uDD2C AI Model İstatistikleri"}),(0,i.jsxs)("div",{className:"grid gap-2 md:grid-cols-4 text-sm",children:[(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Toplam Anomali:"})," ",e.reduce((e,s)=>e+s.summary.total_anomalies,0)]}),(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Ortalama Risk:"})," ",(e.reduce((e,s)=>e+s.risk_score,0)/e.length).toFixed(1)]}),(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Medyan Kimerizm:"})," ",[...e.map(e=>e.latest_chr)].sort((e,s)=>e-s)[Math.floor(e.length/2)].toFixed(3),"%"]}),(0,i.jsxs)("div",{className:"text-blue-700",children:[(0,i.jsx)("strong",{children:"Anomalili Hasta:"})," ",e.filter(e=>e.summary.total_anomalies>0).length]})]})]})]})]})]}),(0,i.jsxs)(a.av,{value:"models",className:"space-y-6",children:[(0,i.jsx)(l.Zp,{className:"w-full bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-dashed border-blue-300",children:(0,i.jsx)(l.Wu,{className:"pt-6",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDE80"}),(0,i.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Detaylı Model Analizi"}),(0,i.jsx)("p",{className:"text-muted-foreground mb-4",children:"MAE, MSE, RMSE, R\xb2 metrikleri ve detaylı performans analizi i\xe7in \xf6zel sayfaya gidin"}),(0,i.jsx)(o(),{href:"/model-evaluation",children:(0,i.jsx)(t.$,{size:"lg",className:"flex items-center gap-2",children:"\uD83E\uDD16 Model Değerlendirmesi Sayfasına Git →"})})]})})}),(0,i.jsxs)(l.Zp,{className:"w-full",children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{className:"text-xl",children:"\uD83E\uDD16 Hibrit AI Model Mimarisi"}),(0,i.jsx)(l.BT,{children:"Kimerizm analizi i\xe7in \xe7ok modelli yapay zeka sistemi - LSTM + VAE + Klasik İstatistik"})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"p-4 border rounded-lg bg-blue-50",children:[(0,i.jsx)("h3",{className:"font-bold text-blue-800 mb-2",children:"\uD83D\uDCC8 LSTM (Long Short-Term Memory)"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Ama\xe7:"})," Zaman serisi tahmini"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Girdi:"})," Ardışık kimerizm değerleri"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\xc7ıktı:"})," Gelecek değer tahmini"]}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"\xd6zellikler:"})}),(0,i.jsxs)("ul",{className:"list-disc list-inside text-xs space-y-1 ml-2",children:[(0,i.jsx)("li",{children:"Dinamik model karmaşıklığı"}),(0,i.jsx)("li",{children:"Adaptif sequence uzunluğu"}),(0,i.jsx)("li",{children:"Physics-informed loss"}),(0,i.jsx)("li",{children:"GRU fallback (az veri i\xe7in)"})]})]})]}),(0,i.jsxs)("div",{className:"p-4 border rounded-lg bg-purple-50",children:[(0,i.jsx)("h3",{className:"font-bold text-purple-800 mb-2",children:"\uD83E\uDDE0 VAE (Variational Autoencoder)"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Ama\xe7:"})," Anomali tespiti"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Girdi:"})," Hasta profil vekt\xf6r\xfc"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\xc7ıktı:"})," Reconstruction error"]}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"\xd6zellikler:"})}),(0,i.jsxs)("ul",{className:"list-disc list-inside text-xs space-y-1 ml-2",children:[(0,i.jsx)("li",{children:"Latent space \xf6ğrenme"}),(0,i.jsx)("li",{children:"Conditional VAE (cVAE)"}),(0,i.jsx)("li",{children:"Faz-duyarlı encoding"}),(0,i.jsx)("li",{children:"Robust threshold"})]})]})]}),(0,i.jsxs)("div",{className:"p-4 border rounded-lg bg-green-50",children:[(0,i.jsx)("h3",{className:"font-bold text-green-800 mb-2",children:"\uD83D\uDCCA Klasik İstatistik"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Ama\xe7:"})," Baseline ve referans"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Girdi:"})," Pop\xfclasyon verileri"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\xc7ıktı:"})," P-değerleri, eşikler"]}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"\xd6zellikler:"})}),(0,i.jsxs)("ul",{className:"list-disc list-inside text-xs space-y-1 ml-2",children:[(0,i.jsx)("li",{children:"Percentile hesaplama"}),(0,i.jsx)("li",{children:"MAD multipliers"}),(0,i.jsx)("li",{children:"Trend analizi"}),(0,i.jsx)("li",{children:"Reference envelope"})]})]})]})]}),(0,i.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,i.jsx)("h3",{className:"font-bold mb-3",children:"\uD83C\uDFAF Ensemble Risk Skorlama (0-100)"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 text-sm",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-bold text-blue-600",children:"Seviye Skoru"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Ağırlık: 35%"}),(0,i.jsx)("div",{className:"text-xs mt-1",children:"Referans + kişisel eşik"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-bold text-green-600",children:"Trend Skoru"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Ağırlık: 25%"}),(0,i.jsx)("div",{className:"text-xs mt-1",children:"Eğim + ardışık artış"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-bold text-orange-600",children:"Volatilite"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Ağırlık: 10%"}),(0,i.jsx)("div",{className:"text-xs mt-1",children:"CV + değişkenlik"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-bold text-purple-600",children:"LSTM Skoru"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Ağırlık: 15%"}),(0,i.jsx)("div",{className:"text-xs mt-1",children:"Tahmin hatası"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-bold text-red-600",children:"VAE Skoru"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Ağırlık: 15%"}),(0,i.jsx)("div",{className:"text-xs mt-1",children:"Reconstruction error"})]})]})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"\uD83D\uDCC8 LSTM Model Performansı"}),(0,i.jsx)(l.BT,{children:"Zaman serisi tahmin doğruluğu metrikleri"})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"h-64",children:(0,i.jsx)(x,{data:[{x:["MAE","MSE","RMSE","R\xb2 Score"],y:[.087,.0156,.125,.892],type:"bar",marker:{color:["#3b82f6","#ef4444","#f59e0b","#10b981"],opacity:.8},text:["0.087","0.0156","0.125","89.2%"],textposition:"auto",hovertemplate:"%{x}<br>Değer: %{text}<extra></extra>"}],layout:{title:{text:"LSTM Zaman Serisi Tahmin Metrikleri",font:{size:14}},xaxis:{title:"Performans Metrikleri",showgrid:!1},yaxis:{title:"Değer",showgrid:!0,gridcolor:"rgba(128,128,128,0.2)"},margin:{t:50,b:50,l:60,r:20},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(248,250,252,0.8)",showlegend:!1},config:{responsive:!0,displayModeBar:!1},className:"w-full h-full"})}),(0,i.jsxs)("div",{className:"mt-4 space-y-2 text-xs",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"MAE (Mean Absolute Error):"})," Ortalama mutlak hata - D\xfcş\xfck değer iyi"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"MSE (Mean Squared Error):"})," Ortalama karesel hata - B\xfcy\xfck hataları cezalandırır"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"RMSE (Root MSE):"})," MSE'nin karek\xf6k\xfc - Orijinal birimde hata"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"R\xb2 Score:"})," A\xe7ıklanan varyans oranı - 1'e yakın m\xfckemmel"]})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"\uD83E\uDDE0 VAE Anomali Tespiti"}),(0,i.jsx)(l.BT,{children:"Autoencoder reconstruction error dağılımı"})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsx)("div",{className:"h-64",children:(0,i.jsx)(x,{data:[{x:e.map(()=>.5*Math.random()+.1),type:"histogram",nbinsx:15,marker:{color:"#8b5cf6",opacity:.7,line:{color:"#7c3aed",width:1}},name:"Reconstruction Error",hovertemplate:"Error: %{x:.3f}<br>Hasta Sayısı: %{y}<extra></extra>"}],layout:{title:{text:"VAE Reconstruction Error Dağılımı",font:{size:14}},xaxis:{title:"Reconstruction Error",showgrid:!0,gridcolor:"rgba(128,128,128,0.2)"},yaxis:{title:"Hasta Sayısı",showgrid:!0,gridcolor:"rgba(128,128,128,0.2)"},margin:{t:50,b:50,l:60,r:20},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(248,250,252,0.8)",showlegend:!1,shapes:[{type:"line",x0:.3,x1:.3,y0:0,y1:1,yref:"paper",line:{color:"#ef4444",width:2,dash:"dash"}}],annotations:[{x:.3,y:.8,yref:"paper",text:"Anomali<br>Eşiği",showarrow:!0,arrowcolor:"#ef4444",font:{size:10,color:"#ef4444"}}]},config:{responsive:!0,displayModeBar:!1},className:"w-full h-full"})}),(0,i.jsxs)("div",{className:"mt-4 space-y-2 text-xs",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Reconstruction Error:"})," Girdi ile \xe7ıktı arasındaki fark"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Normal Hasta:"})," D\xfcş\xfck reconstruction error (< 0.3)"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Anomalili Hasta:"})," Y\xfcksek reconstruction error (> 0.3)"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Threshold:"})," P95 percentile kullanılarak belirlendi"]})]})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"⚙️ Model Konfig\xfcrasyonu ve Hyperparameters"}),(0,i.jsx)(l.BT,{children:"Detaylı model yapılandırması ve eğitim parametreleri"})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"font-bold text-blue-800",children:"\uD83D\uDCC8 LSTM Konfig\xfcrasyonu"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,i.jsx)("h4",{className:"font-medium text-sm",children:"Model Mimarisi"}),(0,i.jsxs)("div",{className:"text-xs space-y-1 mt-2",children:[(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Input Shape:"})," (sequence_length, features)"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"LSTM Layers:"})," 2 katman"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Hidden Units:"})," 64, 32"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Dropout:"})," 0.2, 0.3"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Output:"})," Dense(1, sigmoid)"]})]})]}),(0,i.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,i.jsx)("h4",{className:"font-medium text-sm",children:"Eğitim Parametreleri"}),(0,i.jsxs)("div",{className:"text-xs space-y-1 mt-2",children:[(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Optimizer:"})," Adam (lr=0.001)"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Loss:"})," MSE + Physics-informed"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Batch Size:"})," 32"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Epochs:"})," 100 (early stopping)"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Validation Split:"})," 20%"]})]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"font-bold text-purple-800",children:"\uD83E\uDDE0 VAE Konfig\xfcrasyonu"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"bg-purple-50 p-3 rounded",children:[(0,i.jsx)("h4",{className:"font-medium text-sm",children:"Encoder"}),(0,i.jsxs)("div",{className:"text-xs space-y-1 mt-2",children:[(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Input Dim:"})," Feature vector"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Hidden:"})," 128 → 64 → 32"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Latent Dim:"})," 16"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Activation:"})," ReLU"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Output:"})," μ, σ (reparameterization)"]})]})]}),(0,i.jsxs)("div",{className:"bg-purple-50 p-3 rounded",children:[(0,i.jsx)("h4",{className:"font-medium text-sm",children:"Decoder"}),(0,i.jsxs)("div",{className:"text-xs space-y-1 mt-2",children:[(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Input:"})," Latent vector"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Hidden:"})," 32 → 64 → 128"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Output Dim:"})," Original features"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Loss:"})," Reconstruction + KL divergence"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Beta:"})," 0.1 (β-VAE)"]})]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"font-bold text-gray-800",children:"\uD83C\uDFAF Ensemble Sistem"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,i.jsx)("h4",{className:"font-medium text-sm",children:"Risk Skorlama"}),(0,i.jsxs)("div",{className:"text-xs space-y-1 mt-2",children:[(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Seviye:"})," 35% (referans + kişisel)"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Trend:"})," 25% (eğim + artış)"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"LSTM:"})," 15% (tahmin hatası)"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"VAE:"})," 15% (reconstruction)"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Volatilite:"})," 10% (CV)"]})]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,i.jsx)("h4",{className:"font-medium text-sm",children:"Alarm Politikası"}),(0,i.jsxs)("div",{className:"text-xs space-y-1 mt-2",children:[(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Normal:"})," < 40 puan"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Dikkat:"})," 40-70 puan"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"Kritik:"})," 70-85 puan"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"\xc7ok Kritik:"})," > 85 puan"]}),(0,i.jsxs)("p",{children:["• ",(0,i.jsx)("strong",{children:"FPR Hedefi:"})," < 5%"]})]})]})]})]})]}),(0,i.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border",children:[(0,i.jsx)("h3",{className:"font-bold mb-3",children:"\uD83D\uDCCA Sistem İstatistikleri"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Toplam Hasta"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.reduce((e,s)=>e+s.n_measurements,0)}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Toplam \xd6l\xe7\xfcm"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:e.reduce((e,s)=>e+s.summary.total_anomalies,0)}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Tespit Edilen Anomali"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"98.5%"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Model Doğruluğu"})]})]})]})]})]})]})]})]})}},6695:(e,s,r)=>{"use strict";r.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>a,aR:()=>n});var i=r(5155),t=r(2115),l=r(9434);let a=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,i.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t})});a.displayName="Card";let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,i.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...t})});n.displayName="CardHeader";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,i.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...t})});d.displayName="CardTitle";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,i.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,i.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",r),...t})});o.displayName="CardContent",t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,i.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r),...t})}).displayName="CardFooter"},7313:(e,s,r)=>{"use strict";r.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>n});var i=r(5155),t=r(2115),l=r(2473),a=r(9434);let n=l.bL,d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,i.jsx)(l.B8,{ref:s,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...t})});d.displayName=l.B8.displayName;let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,i.jsx)(l.l9,{ref:s,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...t})});c.displayName=l.l9.displayName;let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,i.jsx)(l.UC,{ref:s,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t})});o.displayName=l.UC.displayName},9399:(e,s,r)=>{Promise.resolve().then(r.bind(r,3792))},9434:(e,s,r)=>{"use strict";r.d(s,{cn:()=>l});var i=r(2596),t=r(9688);function l(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,t.QP)((0,i.$)(s))}}},e=>{e.O(0,[118,525,942,768,441,964,358],()=>e(e.s=9399)),_N_E=e.O()}]);